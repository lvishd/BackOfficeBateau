<!-- <h1 class="text-center" style ="margin-bottom:90px">Modification simultanée de produits</h1> -->


<div class="dropdown text-center margin-bottom-space">
  <button
    class="btn btn-light dropdown-toggle"
    type="button"
    id="dropdownMenuButton1"
    data-bs-toggle="dropdown"
    aria-expanded="false"
  >
    <!-- {{ categories[0].nameCategory }} -->
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
    <li *ngFor="let item of categories">
      <button class="dropdown-item" (click)="onSelectProduct(item)">
        {{ item.nameCategory }}
      </button>
    </li>
  </ul>
</div>

<div class="row justify-content-md-center container-fluid center">
  <div class="row">
    <!-- Boucle for -->
    <!-- <div *ngFor="let category of categories"> -->
    <h1 class="card-title" style="text-align: center">
      {{ category.nameCategory }}
    </h1>
    <div class="card">
      <div class="card-body justify-content-md-center">
        <table class="table container-fluid justify-content-md-center">
          <thead class="table container-fluid justify-content-md-center">
            <tr>
              <th scope="col">Nom</th>
              <th scope="col">Prix</th>
              <th scope="col">Promotion</th>
              <th scope="col">Quantité</th>
              <th scope="col">Vendus</th>
              <th scope="col">Commentaires</th>
              <th scope="col">
                Modifier Stock
              </th>
              <th scope="col">
                Modifier promo
              </th>
            </tr>
          </thead>
          <tbody class="table container-fluid justify-content-md-center">
            <tr *ngFor="let product of category.products">
              <td>{{ product.name }}</td>
              <td>{{ product.price }}</td>
              <td>{{ product.discount }}</td>
              <td>{{ product.quantityInStock }}</td>
              <td>{{ product.nombre_produit_vendu }}</td>
              <td>{{ product.comments }}</td>
              <td>
                <input
                  type="number"
                  class="form-control mx-sm-3"
                  id="newQuantity"
                  placeholder=""
                  [(ngModel)]="newQuantity[product.tig_id]"
                />
              </td>
              <td>
                <input
                  type="number"
                  class="form-control mx-sm-3"
                  id="newPromotion"
                  placeholder="%"
                  [(ngModel)]="newPromotion[product.tig_id]"
                />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <!-- </div> -->
    <!-- fin boucle for -->
  </div>
  <button
    class="btn-dark  myFloat"
    style="width: 10%;  margin-top: 30px"
    (click)="modifyStock()"
    >Modifier stock</button
  >
</div>
